# Use an appropriate Java environment
FROM openjdk:11-jre-slim

# Set up working directory
RUN mkdir -p /app
WORKDIR /app

# Copy Java class and any required resources
COPY ExampleModule.java /app

# Compile Java code
RUN javac -cp "/opt/statefun-sdk-java/statefun-sdk-java-3.2.0.jar" ExampleModule.java

# Expose the port
EXPOSE 8000

# Run the Java class
CMD ["java", "-cp", "/opt/statefun-sdk-java/statefun-sdk-java-3.2.0.jar:/app", "ExampleModule"]
